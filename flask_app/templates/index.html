{% extends "header.html" %}
{% block content %}
<b>UMD Schedule Builder</b>
<a href="{{ url_for('all_courses', courses = courses) }}"><h3>See all courses</h3></a>



<body>
    <h1>My Schedule</h1>
    <table border="5" cellspacing="0" align="center">
        <!--<caption>Timetable</caption>-->
        <tr>
            <td align="center" height="50" 
                width="300">
                <b>MONDAY</b>
            </td>
            <td align="center" height="50" 
                width="300">
                <b>TUESDAY</b>
            </td>
            <td align="center" height="50" 
                width="300">
                <b>WEDNESDAY</b>
            </td>
            <td align="center" height="50" 
                width="300">
                <b>THURSDAY</b>
            </td>
            <td align="center" height="50" 
                width="300">
                <b>FRIDAY</b>
            </td>
        </tr>
        <tr>
            <td align="center" height="50" 
                width="300">
                <b>
                    {% for class in schedule.schedule["M"] %}
                        <h3> • {{ class.class_meetings[0].start_time }} - {{  class.class_meetings[0].end_time  }} <br>
                            {{ class.section_id }} </h3>
                    {% endfor %}
                </b>
            </td>
            <td align="center" height="50"
                width="300">
                <b>
                    {% for class in schedule.schedule["Tu"] %}
                        <h3> • {{ class.class_meetings[0].start_time }} - {{  class.class_meetings[0].end_time  }} <br>
                            {{ class.section_id }} </h3>
                    {% endfor %}
                </b>
            </td>
            <td align="center" height="50"
                width="300">
                <b>
                    {% for class in schedule.schedule["W"] %}
                        <h3> • {{ class.class_meetings[0].start_time }} - {{  class.class_meetings[0].end_time  }} <br>
                            {{ class.section_id }} </h3>
                    {% endfor %}
                </b>
            </td>
            <td align="center" height="50"
                width="300">
                <b>
                    {% for class in schedule.schedule["Th"] %}
                        <h3> • {{ class.class_meetings[0].start_time }} - {{  class.class_meetings[0].end_time  }} <br>
                            {{ class.section_id }} </h3>
                    {% endfor %}
                </b>
            </td>
            <td align="center" height="50"
                width="300">
                <b>
                    {% for class in schedule.schedule["F"] %}
                        <h3> • {{ class.class_meetings[0].start_time }} - {{  class.class_meetings[0].end_time  }} <br>
                            {{ class.section_id }} </h3>
                    {% endfor %}
                </b>
            </td>
        </tr>

    </table>
</body>


<div class="container">
    <h2>Search for a course to add</h2>
</div>
<div class="container">
    <form action="/" class="form-inline my-2 my-lg-0" method="POST">
        {{ search_form.csrf_token }}
        {{ search_form.search_query(class="form-control", placeholder="Search") }}

        {% if search_form.search_query.errors %}
        <div class="alert alert-warning" role="alert">
            {% for error in search_form.search_query.errors %}
                <span>{{ error }}</span>
            {% endfor %}
        </div>
        {% endif %}

        {{ search_form.submit(class="btn btn-outline-success") }}
    </form>
</div>

<div class="container">
    <br>
    <h3>Select a Course and Section to Add</h3>
    <p>Usage for Course Code: Department Name + Course Number</p>
    <p>E.G: CMSC131 (Department Name: CMSC, Course Number: 131)</p>
</div>
<div class="container">
    <form action="/" class="form-inline my-2 my-lg-0" method="POST">
        {{ search_form.csrf_token }}
        {{ search_form.search_query(class="form-control", placeholder="Course Code") }}

        {% if search_form.search_query.errors %}
        <div class="alert alert-warning" role="alert">
            {% for error in search_form.search_query.errors %}
                <span>{{ error }}</span>
            {% endfor %}
        </div>
        {% endif %}

        {{ search_form.csrf_token }}
        {{ search_form.search_query(class="form-control", placeholder="Section Number") }}

        {% if search_form.search_query.errors %}
        <div class="alert alert-warning" role="alert">
            {% for error in search_form.search_query.errors %}
                <span>{{ error }}</span>
            {% endfor %}
        </div>
        {% endif %}
        <button type = "submit">Add</button>
<!--        {{ search_form.submit(class="btn btn-outline-success") }}-->
    </form>
    <br>
    <br>
</div>


<div class="container">
    {% for warning in schedule.warnings_list %}
        <h3 style="color:red;"> • WARNING: {{ warning.warning_text }} </h3>
    {% endfor %}
</div>

<div class="container">
    <h2>Remove all courses from schedule</h2>
</div>
<div class="container">
    <form action="/" method="POST">
        {{ clear_all_courses_form.csrf_token }}
        {{ clear_all_courses_form.clear_all(class="btn btn-outline-danger") }}
    </form>
</div>

{% endblock %}
